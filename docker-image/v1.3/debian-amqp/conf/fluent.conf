
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/conf/fluent.conf.erb

@include systemd.conf
@include kubernetes.conf
@include conf.d/*.conf

<match **>
  @type amqp
  @id out_amqp

  host "#{ENV['FLUENT_AMQP_HOST']}"
  port "#{ENV['FLUENT_AMQP_PORT'] || 5672 }"

  # Set user and password for authentication
  user "#{ENV['FLUENT_AMQP_USER'] || guest }"
  password "#{ENV['FLUENT_AMQP_PASSWORD']}"

  # Configure amqp entities vhost, exchange id and type
  vhost "#{ENV['FLUENT_AMQP_VHOST'] || '/'}"
  exchange "#{ENV['FLUENT_AMQP_EXCHANGE'] || 'my_exchange'}"
  exchange_type "#{ENV['FLUENT_AMQP_EXCHANGE_TYPE'] || 'exchange_type'}"
  # optionally set exchange durability - default is true.
  exchange_durable "#{ENV['FLUENT_AMQP_EXCHANGE_DURABLE'] || 'true'}"
  # If true, will not try to create the exchange - default is false.
  passive "#{ENV['FLUENT_AMQP_PASSIVE'] || 'false'}"
  # optional - default is false. if true, only the payload will be sent. if false, data format is { "key" => tag, "timestamp" => time, "payload" => record }.
  payload_only "#{ENV['FLUENT_AMQP_PAYLOAD_ONLY'] || 'false'}"
  # optional - default is application/octet-stream. some amqp consumers will expect application/json.
  content_type "#{ENV['FLUENT_AMQP_CONTENT_TYPE'] || 'application/octet-stream'}"
  # the priority for the message - requires bunny >= 1.1.6 and rabbitmq >= 3.5
  priority "#{ENV['FLUENT_AMQP_PRIORITY'] || '0'}"
</match>
